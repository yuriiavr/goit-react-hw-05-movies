{"version":3,"file":"static/js/991.c2a29448.chunk.js","mappings":"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","sources":["services/movies-api.js","webpack://react-homework-template/./src/views/MovieDetails/MovieDetails.module.css?d4e2","views/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = '427d649d47521953b8ebcbfa8ebabdc8';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport async function getPopularMovies() {\n  const request = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${KEY}`\n  );\n\n  const detailedRequest = request.data.results.map(e => {\n    return {\n      id: e.id,\n      movieName: e.original_title,\n    };\n  });\n  return detailedRequest;\n}\n\nexport async function searchMovies(query) {\n  const request = await axios.get(\n    `${BASE_URL}search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=true`\n  );\n  const detailedRequest = request.data.results.map(e => {\n    return {\n      id: e.id,\n      movieName: e.original_title,\n    };\n  });\n  return detailedRequest;\n}\n\nexport async function getMovieDetails(movieId) {\n  const request = await axios.get(\n    `${BASE_URL}movie/${movieId}?api_key=${KEY}&language=en-US`\n  );\n  const detailedRequest = [request.data].map(e => {\n    return {\n      poster: `https://image.tmdb.org/t/p/w500/${e.poster_path}`,\n      tag: e.tagline,\n      movieName: e.original_title,\n      userScore: e.vote_average,\n      overview: e.overview,\n      genres: e.genres.map(genre => genre.name),\n    };\n  });\n  return detailedRequest;\n}\n\nexport async function getMovieCast(movieId) {\n  const request = await axios.get(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n  );\n  const detailedRequest = request.data.cast.map(e => {\n    return {\n      castId: e.cast_id,\n      name: e.original_name,\n      character: e.character,\n      castMemberPhoto: `https://themoviedb.org/t/p/w500/${e.profile_path}`,\n    };\n  });\n  return detailedRequest;\n}\n\nexport async function getMoviesReviews(movieId) {\n  const request = await axios.get(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${KEY}&language=en-US`\n  );\n  const detailedRequest = request.data.results.map(e => {\n    return {\n      reviewId: e.id,\n      author: e.author,\n      review: e.content,\n    };\n  });\n  return detailedRequest;\n}","// extracted by mini-css-extract-plugin\nexport default {\"goBack_link\":\"MovieDetails_goBack_link__f+fJy\",\"image\":\"MovieDetails_image__35XpB\",\"movie_thumb\":\"MovieDetails_movie_thumb__aDTlG\"};","import { useState, useEffect } from 'react';\nimport {\n  NavLink,\n  useParams,\n  useLocation,\n  useNavigate,\n  Link,\n  Outlet,\n} from 'react-router-dom';\nimport * as getMovieDetailsAPI from 'services/movies-api';\nimport css from './MovieDetails.module.css';\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n\n  const location = useLocation();\n\n  useEffect(() => {\n    getMovieDetailsAPI\n      .getMovieDetails(movieId)\n      .then(setMovie)\n      .catch(error => {\n        navigate('/', { replace: true });\n        console.error(error);\n      });\n  }, [movieId, navigate]);\n  \n  const goBackLink = location?.state?.from ?? `/`;\n\n  return (\n    <div>\n      <Link to={goBackLink} className={css.goBack_link}>\n        &#8592; Go Back\n      </Link>\n      {movie && (\n        <div className={css.movie_thumb}>\n          <img src={movie[0].poster} alt={movie[0].tag} className={css.image} />\n          <div>\n            <h2>{movie[0].movieName}</h2>\n            <p>User score: {movie[0].userScore}</p>\n            <h3>Overview</h3>\n            <p>{movie[0].overview}</p>\n            <h3>Genres</h3>\n            <p className={css.genres}>{movie[0].genres.join(',  ')}</p>\n          </div>\n        </div>\n      )}\n      <hr />\n      <h3>More information</h3>\n      <div>\n        <ul className={css.links}>\n          <li>\n            <NavLink to=\"cast\" state={{ from: location?.state?.from }}>\n              Cast\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to=\"reviews\" state={{ from: location?.state?.from }}>\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n        <Outlet />\n      </div>\n    </div>\n  );\n}"],"names":["KEY","BASE_URL","getPopularMovies","axios","request","detailedRequest","data","results","map","e","id","movieName","original_title","searchMovies","query","getMovieDetails","movieId","poster","poster_path","tag","tagline","userScore","vote_average","overview","genres","genre","name","getMovieCast","cast","castId","cast_id","original_name","character","castMemberPhoto","profile_path","getMoviesReviews","reviewId","author","review","content","MovieDetails","useState","movie","setMovie","useParams","navigate","useNavigate","location","useLocation","useEffect","getMovieDetailsAPI","then","catch","error","replace","console","goBackLink","state","from","to","className","css","src","alt","join"],"sourceRoot":""}